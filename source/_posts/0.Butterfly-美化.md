---
title: Butterflyä¸»é¢˜ç¾åŒ–
cover: 'https://img-blog.csdnimg.cn/20200417021829629.jpg'
categories:
  - Hexo
  - ç¾åŒ–
tags:
  - ç¾åŒ–
abbrlink: 3076
---


## å‰è¨€


è¿™é‡Œæœ‰ç©ºæ›´æ–°å§ï¼Œæˆ‘å®åœ¨æ˜¯å¤ªæ‡’äº†

{% note danger no-icon %}
ä¸»é¢˜æ›´æ–°åå¯èƒ½æŸäº›ç¾åŒ–å†…å®¹ä¸å†é€‚ç”¨
{% endnote %}


## ææ€ªæ¶æç½‘é¡µæ ‡é¢˜ç‰¹æ•ˆ
åœ¨`/root/myblog/themes/Butterfly/source/js`ä¸­æ–°å»º`crash_cheat.js`

```
<!--å´©æºƒæ¬ºéª— + OriginTitle -->
 var OriginTitle = document.title;
 var titleTime;
 document.addEventListener('visibilitychange', function () {
     if (document.hidden) {
         $('[rel="icon"]').attr('href', "/joke.ico");
         document.title = 'â•­(Â°AÂ°`)â•® æˆ‘ä¸çˆ±ä½ å•¦~';
         clearTimeout(titleTime);
     }
     else {
         $('[rel="icon"]').attr('href', "/favicon.ico");
         document.title = '(à¸…>Ï‰<*à¸…) å–µå–µçˆ±ä½ å“Ÿ~';
         titleTime = setTimeout(function () {
             document.title = OriginTitle;
         }, 2000);
     }
 });
```
ç„¶ååœ¨ `/root/myblog/themes/Butterfly/layout/includes/layout.pug`å¼•å…¥ä»£ç 
æ¨è [html => pug](https://html2pug.com/)  , æˆ‘æŠŠå¼•å…¥çš„ä»£ç æ”¾åœ¨äº† layout.pug æœ€åº•éƒ¨
```
script(type='text/javascript', src='/js/crash_cheat.js')
```


## æ·»åŠ Aplayerå…¨å±€éŸ³ä¹æ’­æ”¾å™¨




{% tabs tab-id %}

<!-- tab æ–¹æ³•1 -->

å—æ¶ææ ‡é¢˜ç‰¹æ•ˆå¯å‘ï¼Œåœ¨`/root/myblog/themes/Butterfly/source/js`ä¸­æ–°å»º`music.js`åŒæ—¶æŠŠé¡¹ç›®æ–‡ä»¶`APlayer.min.css`æ·»åŠ è¿›å»ï¼Œä¸»è¦æ˜¯æ–¹ä¾¿

```javascript
const ap = new APlayer({
    container: document.getElementById('aplayer'),
    fixed: true,
    autoplay: true,
    theme: '#FADFA3',
    audio: [
      {
        name: "çº¸çŸ­æƒ…é•¿",
        artist: 'å¾æ¢¦åœ†',
        url: 'https://music.163.com/song/media/outer/url?id=516076896.mp3',
        cover: 'https://p3.music.126.net/AAq1qOhfyrClGK1mg3mGYQ==/18776360067593424.jpg',
      },
      {
        name: 'é£ç­è¯¯',
        artist: 'åˆ˜ç‚çŸ£',
        url: 'https://music.163.com/song/media/outer/url?id=1434570079.mp3',
        cover: 'http://oeff2vktt.bkt.clouddn.com/image/96.jpg',
      }
    ]
});
```

ç„¶ååœ¨`/root/myblog/themes/Butterfly/layout/includes/layout.pug`å¼•å…¥ä»£ç 


```pug
link(rel='stylesheet', href='/js/APlayer.min.css')
#aplayer
script(type='text/javascript', src='https://cdn.jsdelivr.net/npm/aplayer@1.10.0/dist/APlayer.min.js')
script(type='text/javascript', src='/js/music.js')
```
å¦‚æœè¦å°†Apalyeræ”¶å…¥ï¼Œè¯·ä¿®æ”¹APlayer.min.cssæ ·å¼

```css
.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
    width: 66px!important;
    left: -66px !important
}

.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
    left: 0px !important
}
```


{% folding blue open, å‚è€ƒå›¾ç‰‡ %}

![](https://img-blog.csdnimg.cn/20200417005540593.png)

{% endfolding %}



<center>
<a
  style="color: #1B9AF7;"
  href="https://github.com/metowolf/MetingJS"
  class="button button-glow button-border button-rounded button-primary"
  >APlayer</a
>
<center>

<!-- endtab -->

<!-- tab æ–¹æ³•2 -->


è¿™ä¸ªæ–¹æ³•æˆ‘è¿˜ä¸çŸ¥é“æ€ä¹ˆè®¾ç½®éŸ³ä¹coverå°é¢å›¾ç‰‡ï¼Œåªèƒ½æ˜¯éŸ³ä¹é»˜è®¤å›¾ç‰‡
åœ¨`/root/myblog/themes/Butterfly/layout/includes/head.pug`æœ«è¡Œæ·»åŠ 

```pug
include ./third-party/aplayer.pug
```


ç„¶ååœ¨`/root/myblog/themes/Butterfly/layout/includes/third-party`ä¸‹æ–°å»º`aplayer.pug`


```pug
<!-- åˆ¤æ–­æ˜¯å¦å¯ç”¨aplaye -->
if theme.aplayer && theme.aplayer.enable
	<!-- åˆ¤æ–­æ˜¯å¦å¯ç”¨æ’­æ”¾å™¨å®¹å™¨ -->
	.aplayer(data-id=theme.aplayer.id data-server=theme.aplayer.server data-type=theme.aplayer.type data-fixed=theme.aplayer.fixed data-mini=theme.aplayer.mini data-listFolded=theme.aplayer.listFolded data-order=theme.aplayer.order data-preload=theme.aplayer.preload)
	each item in theme.aplayer.css
		link(rel='stylesheet', href=item)
	each item in theme.aplayer.js
		script(src=item)

```


åœ¨`/root/myblog/source/_data/butterfly.yml`ä¸­æ·»åŠ 



```yml
  ##å…¨å±€éŸ³ä¹
aplayer:
  enable: true
  js:
    - https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js
    - https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js
  css:
    - https://cdn.jsdelivr.net/gh/haikesikejiqiang/picred@master/2020/03/13/APlayer.min.css
  id: 501749278
  server: netease 
  type: song
  fixed: 'true'
  order: random
  preload: none
  listFolded: 'false'

```


<center>
<a
  style="color: #1B9AF7;"
  href="https://github.com/metowolf/MetingJS"
  class="button button-glow button-border button-rounded button-primary"
  >MetingJS</a
>
<center>

<!-- endtab -->


{% endtabs %}



## ç§»åŠ¨ç«¯ç‹¬ç«‹èƒŒæ™¯å›¾


{% tabs tab-id %}

<!-- tab æ–¹æ³• -->

åœ¨`/root/myblog/themes/Butterfly/source/css/_layout/pagination.styl`æœ«è¡Œæ·»åŠ 

```css
@media screen and (max-width: 768px)
  .prev-post,
  .next-post
    width: 100% !important
@media screen and (max-width: $sm)
  #web_bg
      background: url(http://tu.yaohuo.me/imgs/2020/06/8ebec35e93e04611.png)
      background-size: cover
```


<!-- endtab -->

<!-- tab æ•ˆæœ -->

{% folding æŸ¥çœ‹å›¾ç‰‡ %}

![](https://img-blog.csdnimg.cn/20200628010048721.png)

{% endfolding %}


<!-- endtab -->


{% endtabs %}


## é¼ æ ‡æ ·å¼



{% tabs tab-id %}

<!-- tab æ–¹æ³• -->

åœ¨`butterfly.yml`ä¸­å¼•å…¥ä»¥ä¸‹cssæ ·å¼

```css
body {
    cursor: url(https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cursor/normal.cur),
        default;
}
a,
img {
    cursor: url(https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cursor/ayuda.cur),
        default;
}
p {
    cursor: url(https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cursor/texto.cur),
        default;
}
```


<!-- endtab -->

<!-- tab æ•ˆæœ -->


{% folding æŸ¥çœ‹å›¾ç‰‡ %}

![](http://tu.yaohuo.me/imgs/2020/06/f2588b74453842cd.jpg)

{% endfolding %}


<!-- endtab -->


{% endtabs %}

## è¯„è®ºæ¡†ç¾åŒ–



{% tabs tab-id %}

<!-- tab æ–¹æ³• -->

ä»¥ä¸‹æ˜¯è¯„è®ºæ¡†cssæ ·å¼ï¼Œå¯ä»¥ç›´æ¥ç”¨æˆ‘çš„csså¤–é“¾

```css
.v[data-class=v] .vwrap{padding:0px 0 42px;}.vheader.item3{width:80%;bottom:0;position:absolute;background:transparent;border-top:1px solid #f7f7f7;}input.vnick.vinput,input.vmail.vinput,input.vlink.vinput{width:33.33% !important;}.v[data-class=v] .vwrap .vheader .vinput{border-bottom:none !important;}svg.markdown{display:none;}.v .vwrap .vrow{position:absolute;right:0;bottom:5px;width:20%;font-size:0;border-radius:0;vertical-align:bottom;}.v .vbtn{width:100%;border-radius:0 !important;height:43px;line-height:43px !important;padding:0 !important;font-size:14px !important;font-family:Arial;position:relative;top:0px;}.v[data-class=v] .vinput{padding:10px 15px !important;}.v[data-class=v] .vrow .vcol.vcol-70{width:100% !important;}.vwrap>.vrow{height:43px;margin-bottom:-5px;}.v[data-class=v] .vrow{padding:0;}.v[data-class=v] .vrow .vcol.vcol-40{width:90%}.v[data-class=v] .vrow .vcol.vcol-30{width:0;height:0;}.v svg{vertical-align:text-bottom;}textarea#veditor{resize:none;}textarea#veditor::-webkit-input-placeholder{color:#a5e3f6;text-align:center;line-height:4;}textarea#veditor:-moz-placeholder{color:#a5e3f6;text-align:center;line-height:4;}textarea#veditor::-moz-placeholder{color:#a5e3f6;text-align:center;line-height:4;}textarea#veditor:-ms-input-placeholder{color:#a5e3f6;text-align:center;line-height:4;}
```

åœ¨`/root/myblog/themes/Pjax/layout/includes/comments/valine.pug`æœ«è¡Œå¼•å…¥å¤–é“¾è°ƒç”¨ä»Šæ—¥è¯—è¯

```
link(rel='stylesheet' href='https://cdn.jsdelivr.net/gh/haikesikejiqiang/picred@master/2020/06/15/test05.css')
script(src='https://sdk.jinrishici.com/v2/browser/jinrishici.js' charset='utf-8')
script.
  
  function diyValine() {
          jinrishici.load(function(result) {
              var jrsc_plac = result.data.content + "\nã€Œ" + result.data.origin.title + "ã€" + result.data.origin.dynasty + " Â· " + result.data.origin.author
              document.getElementById("veditor").setAttribute("placeholder", jrsc_plac);
          });
      }
      setTimeout(diyValine, 10);
```


<!-- endtab -->

<!-- tab æ•ˆæœ -->


{% folding æŸ¥çœ‹å›¾ç‰‡ %}

![](https://p.ananas.chaoxing.com/star3/origin/a5f561ba509eb9ad9d015df527536ced.jpg)

{% endfolding %}


<!-- endtab -->


{% endtabs %}

## BotUI å¯¹è¯æœºå™¨äºº


{% tabs tab-id %}

<!-- tab æ–¹æ³• -->

[`BotUI`](https://github.com/botui/botui)æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è¯å¼UIçš„JavaScriptæ¡†æ¶ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ æ¶ˆæ¯ï¼Œé—®é¢˜ï¼Œç”šè‡³å¯ä»¥ä¸ºç”¨æˆ·å¡«å†™è¾“å…¥å­—æ®µæ¥é…ç½®å¯¹è¯æµç¨‹


`BotUI`é¡µé¢éœ€è¦å¼•å…¥ä»¥ä¸‹cssæ–‡ä»¶ã€‚æ‚¨å¯ä»¥ç›´æ¥åœ¨é¡µé¢ä¸­ä½¿ç”¨è¿™äº›é“¾æ¥

```
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/botui/build/botui.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/botui/build/botui-theme-default.css">
```

`<bot-ui> `æ ‡ç­¾æ˜¯é­”æœ¯å¼€å§‹çš„åœ°æ–¹

```
<div class="sang" id="my-botui-app" style="min-height:300px; padding:2px 6px 4px 6px; background-color: rgba(242, 242, 242,0.5); border-radius: 10px">
    <center>
        <h4>ä¸ å±±æ²³ å¯¹è¯ä¸­...</h4>
    </center>
    <bot-ui>
        <center>
            <div style=" background-image: url(https://cdn.jsdelivr.net/gh/Fog-Forest/cdn@1.7/botui/loading.svg);background-repeat: no-repeat;background-size: 10em; background-position: center;height: 10em;"></div>
            <p>Loading</p>
        </center>
    </bot-ui>

</div>
```

å¼•å…¥`botui.js`å’Œ`vue.js`æ–‡ä»¶

```
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/gh/haikesikejiqiang/picred@master/2020/06/15/botui.min@0.3.7.js"></script>
```

åœ¨`/root/myblog/themes/Pjax/source/js`ä¸‹æ–°å»ºbotui.js

{% folding cyan, æŸ¥çœ‹ä»£ç  %}

```
var botui=new BotUI("my-botui-app");botui.message.add({delay:500,content:"Hi, there"}).then(function(){botui.message.add({delay:610,content:"è¿™é‡Œæ˜¯å±±æ²³"}).then(function(){botui.message.add({delay:700,content:"ä¸€ä¸ªå¯çˆ±çš„è“å­©å­~"})}).then(function(){botui.action.button({delay:2000,action:[{icon:'play',text:'ç„¶åå‘¢',value:'next'},{icon:'stop',text:"ç»™çˆ·çˆ¬",value:"skip"}]}).then(function(a){"next"==a.value&&next();"skip"==a.value&&end()})});var next=function(){firstpart()},firstpart=(function(){botui.message.add({content:'ä½ å«ä»€ä¹ˆåå­— ğŸ˜ƒ '}).then(function(){return botui.action.text({addMessage:false,action:{placeholder:'Your name'}})}).then(function(res){botui.message.add({human:true,content:'æˆ‘å« '+res.value+' ğŸ˜˜ '})}).then(function(){botui.message.add({delay:400,content:'è¿™ä¸ªåå­—éš¾å¬æäº†ï¼Œå¬å¥½äº†'})}).then(function(){botui.message.add({type:'html',content:"<img style='margin: 0 auto;vertical-align: middle;width: 100%;height: 100%;' src='https://p.ananas.chaoxing.com/star3/origin/6ae821dfdede10f3d16a6611dfaffb90.gif'>"})}).then(function(){botui.message.add({type:'html',delay:800,content:'<span>æˆ‘æ˜¯ä½ çˆ¹</span> ! '})}).then(function(){botui.message.add({type:'html',delay:800,content:'<span>æˆ‘æ˜¯ä½ çˆ¹</span> ! '})}).then(function(){botui.message.add({type:'html',delay:800,content:'<span>æˆ‘æ˜¯ä½ çˆ¹</span> ! '})}).then(function(){botui.message.add({human:true,type:'html',delay:1800,content:"<img style='margin: 0 auto;vertical-align: middle;width: 100%;height: 100%;' src='https://cdn.jsdelivr.net/gh/HCLonely/valine-face@1.0.1/bilibili_tv/baiyan.png'>"})}).then(function(){botui.action.button({delay:2000,action:[{icon:'play',text:'å°±è¿™å‘€',value:'sure'},{icon:'stop',text:"ç»™çˆ·çˆ¬",value:"skip"}]}).then(function(a){"sure"==a.value&&sure();"skip"==a.value&&end()})})})});var sure=function(){botui.message.add({type:'html',content:"<img style='margin: 0 auto;vertical-align: middle;width: 100%;height: 100%;' src='https://p.ananas.chaoxing.com/star3/origin/64bcee5ca671c7c0e3e9504f0e1f22df.gif'>"}).then(function(){botui.message.add({delay:1000,content:'æ‰“æˆ‘å‘€ï¼Œç¬¨è›‹ ! '})}).then(function(){botui.message.add({human:true,delay:1000,content:'å°±è¿™å°±è¿™å°±è¿™å•Šï¼Œæˆ‘è¿˜ä»¥ä¸ºå¤šç‹ å‘¢è£…ä»€ä¹ˆå¤§å“¥é€ä»€ä¹ˆè‹±é›„'})}).then(function(){secondpart()})},end=function(){botui.message.add({type:'html',content:"<img style='margin: 0 auto;vertical-align: middle;width: 100%;height: 100%;' src='https://p.ananas.chaoxing.com/star3/origin/54b2a42b67aa53d565956458a27716b8.jpg'>"})},secondpart=function(){botui.message.add({delay:1400,content:"ä¸€åè®¡ç®—æœºä¸“ä¸šçš„åº”å±Šç”Ÿ"}).then(function(){botui.message.add({type:'html',content:"<img style='margin: 0 auto;vertical-align: middle;width: 100%;height: 100%;' src='https://p.ananas.chaoxing.com/star3/origin/6cb13d96b430b10b203e260db452625c.jpg'>"})}).then(function(){botui.message.add({delay:1400,content:"å¯¹äºHTML/CSS/JavaScript/Node.jséƒ½ä¼šä¸€ä¸¢ä¸¢ ğŸ˜"}).then(function(){botui.message.add({delay:1400,content:"å¯¹äºCã€C#ã€æ˜“è¯­è¨€ã€PHPä¹Ÿä¼šï¼Œå°±æ˜¯å¿˜è®°äº† ğŸ™„"})}).then(function(){botui.message.add({delay:1500,content:"çƒ­çˆ±æ¸¸æˆï¼Œç²¾é€šè‹±é›„è”ç›Ÿ"}).then(function(){botui.message.add({delay:1500,content:"é„™äººä¸æ‰ï¼Œå·…å³°æ—¶æœŸè‡³å°‘ä¹Ÿæœ‰ç™½é“¶ä¸‰çš„å®åŠ›"}).then(function(){botui.message.add({delay:1500,content:"ä½ è‰¾å¸Œæˆ‘å¥¶å¦ˆ"}).then(function(){botui.action.button({delay:1700,addMessage:false,action:[{text:"çˆ±å—",value:"why-mashiro"}]}).then(function(a){thirdpart()})})})})})})},thirdpart=function(){botui.message.add({human:true,content:"çˆ± "}).then(function(){botui.message.add({delay:1000,content:"åªè¦å¦¹å¦¹é•¿å¾—ä¹–ï¼Œè¿™æŠŠå›¢æˆ˜æˆ‘æ¥å¼€"})}).then(function(){botui.action.button({delay:1000,action:[{text:"ä¸ºä»€ä¹ˆå«å±±æ²³å‘¢",value:"why-cat"}]}).then(function(a){fourthpart()})})},fourthpart=function(){botui.message.add({delay:1000,content:"æƒ³åˆ°è¿™ä¸ªå°±æ˜¯è¿™ä¸ªï¼Œæ²¡æœ‰ä¸ºä»€ä¹ˆ"}).then(function(){botui.action.button({delay:1100,action:[{text:"åŸŸåæœ‰ä»€ä¹ˆå«ä¹‰å—",value:"why-domain"}]}).then(function(a){fifthpart()})})},fifthpart=function(){botui.message.add({content:"æŸå¦–å‹è½¬å–ç»™æˆ‘çš„åŸŸåï¼Œè¿™ä¸ªæ¯”è¾ƒä¾¿å®œ"}).then(function(){botui.message.add({delay:1600,content:"ä½ éƒ½çœ‹åˆ°è¿™é‡Œäº†ï¼Œå¿«ç»™æˆ‘æ‰“é’±"}).then(function(){botui.message.add({type:'html',delay:2000,content:"<button style=\"cursor: pointer;line-height: normal;border: 0;color: #fff;font-size: 14px;margin-top: 10px;margin-bottom: 10px;padding: 7px 15px;border-radius: 4px;background: #777979;box-shadow: 2px 3px 4px 0 rgba(0, 0, 0, .25) \" onclick=\"window.location.href='http://zyan.gq'\">ç‚¹æˆ‘</button>"})})})}
```

{% endfolding %}

åœ¨`/root/myblog/source/about/index.md`ä¸­æ·»åŠ 

```
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/botui/build/botui.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/botui/build/botui-theme-default.css">


<div class="sang" id="my-botui-app" style="min-height:300px; padding:2px 6px 4px 6px; background-color: rgba(242, 242, 242,0.5); border-radius: 10px">
    <center>
        <h4>ä¸ å±±æ²³ å¯¹è¯ä¸­...</h4>
    </center>
    <bot-ui>
        <center>
            <div style=" background-image: url(https://cdn.jsdelivr.net/gh/Fog-Forest/cdn@1.7/botui/loading.svg);background-repeat: no-repeat;background-size: 10em; background-position: center;height: 10em;"></div>
            <p>Loading</p>
        </center>
    </bot-ui>

</div>


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/gh/haikesikejiqiang/picred@master/2020/06/15/botui.min@0.3.7.js"></script>
<script src="/js/botui.js"></script>
```


<!-- endtab -->

<!-- tab æ•ˆæœ -->



{% folding blue open, å‚è€ƒå›¾ç‰‡ %}



![](https://p.ananas.chaoxing.com/star3/origin/46487b50d600f016764c0e043a081a8d.jpg)

{% endfolding %}



<center>
<a
  style="color: #1B9AF7;"
  href="https://sang.pub/about/"
  class="button button-glow button-border button-rounded button-primary"
  >å…³äºæˆ‘</a
>
<center>


<!-- endtab -->


{% endtabs %}
